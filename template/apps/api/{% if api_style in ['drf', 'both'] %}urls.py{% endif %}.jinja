"""API URLs."""
from django.urls import path, include
from rest_framework.routers import DefaultRouter
from drf_spectacular.views import (
    SpectacularAPIView,
    SpectacularRedocView,
    SpectacularSwaggerView,
)

from . import views

router = DefaultRouter()
# Register your viewsets here
# router.register(r'items', views.ItemViewSet)

app_name = "api"

urlpatterns = [
    # OpenAPI schema
    path("schema/", SpectacularAPIView.as_view(), name="schema"),
    path("docs/", SpectacularSwaggerView.as_view(url_name="api:schema"), name="docs"),
    path("schema/swagger/", SpectacularSwaggerView.as_view(url_name="api:schema"), name="swagger"),
    path("schema/redoc/", SpectacularRedocView.as_view(url_name="api:schema"), name="redoc"),

    # API routes
    path("", include(router.urls)),
{% if auth_backend in ['jwt', 'both'] -%}
    path("auth/", include("apps.api.auth_urls")),
{% endif -%}
{% if api_style == 'both' -%}
    path("", include("apps.api.graphql_urls")),
{% endif -%}
]
